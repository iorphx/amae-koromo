(this["webpackJsonpamae-koromo"]=this["webpackJsonpamae-koromo"]||[]).push([[7],{166:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d}));var c=n(11),r=n(23),a=n(0),i=n(1),s={selectedModes:[]},l=n.n(i).a.createContext([Object(r.a)({},s),function(){}]),o=function(){return Object(i.useContext)(l)};function d(e){var t=e.children,n=Object(i.useReducer)((function(e,t){return Object(r.a)(Object(r.a)({},e),t)}),null,(function(){return Object(r.a)({},s)})),o=Object(c.a)(n,2),d=o[0],u=o[1],b=Object(i.useMemo)((function(){return[d,u]}),[d,u]);return Object(a.jsx)(l.Provider,{value:b,children:t})}},178:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return m}));var c=n(23),r=n(0),a=n(1),i=n.n(a),s=n(31),l=n(12),o=n(69),d=n(112),u=function(){throw new Error("Not intended for rendering")},b=function(){throw new Error("Not intended for rendering")},j=i.a.createContext([]);function h(e){var t=e.className,n=void 0===t?"":t,i=e.replace,o=void 0!==i&&i,u=e.keepState,b=void 0!==u&&u,h=e.withQueryString,f=void 0!==h&&h,m=Object(d.a)("navButtons").t,O=Object(a.useContext)(j),x=(Object(l.k)()||{url:""}).url.replace(/\/+$/,"");return Object(r.jsx)("nav",{className:"nav nav-pills mb-3 ".concat(n),children:O.filter((function(e){return!e.disabled})).map((function(e){return Object(r.jsx)(s.c,{to:function(t){return Object(c.a)({pathname:"".concat(x,"/").concat(e.path),state:b?t.state:void 0},f&&t.search?{search:t.search}:{})},replace:o,exact:!!e.exact,className:"nav-link",activeClassName:"active",children:m(e.title)},e.path)}))})}function f(e){var t=e.defaultRenderDirectly,n=void 0!==t&&t,i=e.mutateTitle,s=void 0===i||i,u=e.children,b=Object(d.a)("navButtons").t,h=Object(a.useContext)(j),f=Object(l.k)()||{url:""},m=Object(l.i)(),O=f.url.replace(/\/+$/,"");return Object(r.jsxs)(l.d,{children:[h.filter((function(e){return!e.disabled})).map((function(e){return Object(r.jsxs)(l.b,{exact:e.exact,path:"".concat(O,"/").concat(e.path),children:[s&&Object(r.jsx)(o.Helmet,{children:Object(r.jsx)("title",{children:b(e.title)})}),e.children]},e.path)})),Object(r.jsx)(l.b,{children:n?h.filter((function(e){return!e.disabled}))[0].children:Object(r.jsx)(l.a,{to:Object(c.a)(Object(c.a)({},m),{},{pathname:"".concat(O,"/").concat(h.filter((function(e){return!e.disabled}))[0].path)}),push:!1})}),u]})}function m(e){var t=e.children;return Object(r.jsx)(j.Provider,{value:t[0].props.children.map((function(e){return e.props})),children:t.slice(1)})}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return c.a})),n.d(t,"c",(function(){return c.b})),n.d(t,"b",(function(){return o}));var c=n(166),r=n(11),a=n(0),i=n(1),s=n(86),l=n(9);function o(e){var t=e.type,n=void 0===t?"radio":t,o=e.availableModes,d=void 0===o?l.b.availableModes:o,u=e.autoSelectFirst,b=void 0!==u&&u,j=e.oneOrAll,h=void 0!==j&&j,f=e.allowedCombinations,m=void 0===f?null:f;m=Object(i.useMemo)((function(){return m||(h?[d]:null)}),[m,h,d]);var O=Object(c.b)(),x=Object(r.a)(O,2),v=x[0],p=x[1],g=Object(i.useCallback)((function(e){if(d.length&&(e=e.filter((function(e){return d.includes(e)}))).length)if("radio"!==n){if(e.length>1&&m)if(!m.some((function(t){return e.length===t.length&&e.every((function(e){return t.includes(e)}))}))){var t=m.filter((function(t){return e.every((function(e){return t.includes(e)}))}));if(t.length>0){var c=v.selectedModes.find((function(t){return!e.includes(t)}));if(c){var r=t.filter((function(e){return!e.includes(c)}));if(!r.length)return;t=r}}if(t.length>0)e=t[0];else{var a=e.find((function(e){return!v.selectedModes.includes(e)}));if(!a)return;e=[a]}}e.length===v.selectedModes.length&&e.every((function(e){return v.selectedModes.includes(e)}))||p({selectedModes:e})}else v.selectedModes[0]!==e[0]&&p({selectedModes:[e[0]]})}),[p,d,v,m,n]);return Object(i.useEffect)((function(){if(d.length){var e=(v.selectedModes||[]).filter((function(e){return d.includes(e)}));m&&e.length>1&&!m.some((function(t){return t.length===e.length&&t.every((function(t){return e.includes(t)}))}))&&(e=[]),"radio"===n&&e.length>1&&(e=[e[0]]),e.length?e.length===v.selectedModes.length&&e.every((function(e){return v.selectedModes.includes(e)}))||p({selectedModes:e}):b?p({selectedModes:[d[0]]}):m&&p({selectedModes:m[0]})}}),[b,d,v.selectedModes,m,n,p]),l.b.availableModes.length<2?null:Object(a.jsx)("div",{className:"row mb-3",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(s.a,{type:n,mode:v.selectedModes,onChange:g,availableModes:d})})})}},823:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var c=n(0),r=n(1),a=n(180),i=n(178),s=n(7),l=n.n(s),o=n(63),d=n(15),u=n(11),b=n(48),j=n(9),h=n(26),f=n(10),m=n.n(f),O=n(76),x=n(5),v=n(47);function p(){var e=Object(r.useState)((function(){return m()()})),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)((function(){return m()()})),s=Object(u.a)(i,2),f=s[0],p=s[1],g=Object(r.useState)(!1),y=Object(u.a)(g,2),k=y[0],G=y[1],M=Object(r.useState)([]),P=Object(u.a)(M,2),C=P[0],N=P[1],w=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var t,c,r,a,i,s,d,u,b,j,h,m,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(!0),t=n.startOf("day"),c=f.endOf("day"),r={};case 4:if(!t.isBefore(c)){e.next=55;break}a=new O.a(t,null);case 6:return e.next=8,a.getNextChunk();case 8:if((i=e.sent).length){e.next=11;break}return e.abrupt("break",52);case 11:s=Object(o.a)(i),e.prev=12,s.s();case 14:if((d=s.n()).done){e.next=42;break}u=d.value,b=Object(o.a)(u.players),e.prev=17,b.s();case 19:if((j=b.n()).done){e.next=32;break}if(h=j.value,(m=h.accountId.toString())in r){e.next=25;break}return r[m]={id:m,minGame:u,maxGame:u,minGamePlayer:h,maxGamePlayer:h,numGames:1,totalPoints:h.score},e.abrupt("continue",30);case 25:(x=r[m]).numGames++,x.totalPoints+=h.score,h.score>x.maxGamePlayer.score&&(x.maxGame=u,x.maxGamePlayer=h),h.score<x.minGamePlayer.score&&(x.minGame=u,x.minGamePlayer=h);case 30:e.next=19;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(17),b.e(e.t0);case 37:return e.prev=37,b.f(),e.finish(37);case 40:e.next=14;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(12),s.e(e.t1);case 47:return e.prev=47,s.f(),e.finish(47);case 50:e.next=6;break;case 52:t=t.add(1,"day"),e.next=4;break;case 55:N(Object.values(r)),G(!1);case 57:case"end":return e.stop()}}),e,null,[[12,44,47,50],[17,34,37,40]])}))),[G,n,f,N,C]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{title:"\u5f00\u59cb\u65e5\u671f",children:Object(c.jsx)(b.b,{min:j.b.dateMin,date:n,onChange:a,className:"form-control"})}),Object(c.jsx)(b.c,{title:"\u7ed3\u675f\u65e5\u671f",children:Object(c.jsx)(b.b,{min:j.b.dateMin,date:f,onChange:p,className:"form-control"})}),k?Object(c.jsx)(h.a,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{type:"button",className:"btn btn-primary mt-3",onClick:w,children:"\u67e5\u8be2"}),C&&C.length?Object(c.jsxs)("table",{className:"table table-responsive-xl table-striped table-hover mt-3",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\u73a9\u5bb6"}),Object(c.jsx)("th",{children:"\u6700\u4f4e\u5206"}),Object(c.jsx)("th",{children:"\u6700\u4f4e\u5206\u6bd4\u8d5b\u65f6\u95f4"}),Object(c.jsx)("th",{children:"\u6700\u9ad8\u5206"}),Object(c.jsx)("th",{children:"\u6700\u9ad8\u5206\u6bd4\u8d5b\u65f6\u95f4"}),Object(c.jsx)("th",{children:"\u5e73\u5747\u70b9\u6570"})]})}),Object(c.jsx)("tbody",{children:C.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:Object(v.generatePlayerPathById)(e.id),children:e.maxGamePlayer.nickname})}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:x.GameRecord.getRecordLink(e.minGame,e.minGamePlayer),children:e.minGamePlayer.score})}),Object(c.jsx)("td",{children:x.GameRecord.formatFullStartTime(e.minGame)}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:x.GameRecord.getRecordLink(e.maxGame,e.maxGamePlayer),children:e.maxGamePlayer.score})}),Object(c.jsx)("td",{children:x.GameRecord.formatFullStartTime(e.maxGame)}),Object(c.jsx)("td",{children:Math.round(e.totalPoints/e.numGames)})]},e.id)}))})]}):null]})]})}var g=Object(c.jsx)(i.d,{children:[Object(c.jsx)(i.b,{path:"min-max",title:"\u6700\u4f4e/\u6700\u9ad8\u70b9\u5bf9\u5c40",children:Object(c.jsx)(p,{})},"")]});function y(){return Object(c.jsxs)(i.c,{children:[g,Object(c.jsxs)(a.a,{children:[Object(c.jsx)(i.a,{}),Object(c.jsx)(i.e,{})]})]})}}}]);
//# sourceMappingURL=7.1de0ec89.chunk.js.map