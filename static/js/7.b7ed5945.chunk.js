(this["webpackJsonpamae-koromo"]=this["webpackJsonpamae-koromo"]||[]).push([[7],{165:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d}));var c=n(11),a=n(23),r=n(0),s=n(1),i={selectedModes:[]},l=n.n(s).a.createContext([Object(a.a)({},i),function(){}]),o=function(){return Object(s.useContext)(l)};function d(e){var t=e.children,n=Object(s.useReducer)((function(e,t){return Object(a.a)(Object(a.a)({},e),t)}),null,(function(){return Object(a.a)({},i)})),o=Object(c.a)(n,2),d=o[0],u=o[1],b=Object(s.useMemo)((function(){return[d,u]}),[d,u]);return Object(r.jsx)(l.Provider,{value:b,children:t})}},177:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return O}));var c=n(23),a=n(0),r=n(1),s=n.n(r),i=n(31),l=n(12),o=n(69),d=n(111),u=function(){throw new Error("Not intended for rendering")},b=function(){throw new Error("Not intended for rendering")},j=s.a.createContext([]);function h(e){var t=e.className,n=void 0===t?"":t,c=e.replace,s=void 0!==c&&c,o=e.keepState,u=void 0!==o&&o,b=Object(d.a)("navButtons").t,h=Object(r.useContext)(j),m=(Object(l.k)()||{url:""}).url.replace(/\/+$/,"");return Object(a.jsx)("nav",{className:"nav nav-pills mb-3 ".concat(n),children:h.filter((function(e){return!e.disabled})).map((function(e){return Object(a.jsx)(i.c,{to:function(t){return{pathname:"".concat(m,"/").concat(e.path),state:u?t.state:void 0}},replace:s,exact:!!e.exact,className:"nav-link",activeClassName:"active",children:b(e.title)},e.path)}))})}function m(e){var t=e.defaultRenderDirectly,n=void 0!==t&&t,s=e.mutateTitle,i=void 0===s||s,u=e.children,b=Object(d.a)("navButtons").t,h=Object(r.useContext)(j),m=Object(l.k)()||{url:""},O=Object(l.i)(),x=m.url.replace(/\/+$/,"");return Object(a.jsxs)(l.d,{children:[h.filter((function(e){return!e.disabled})).map((function(e){return Object(a.jsxs)(l.b,{exact:e.exact,path:"".concat(x,"/").concat(e.path),children:[i&&Object(a.jsx)(o.Helmet,{children:Object(a.jsx)("title",{children:b(e.title)})}),e.children]},e.path)})),Object(a.jsx)(l.b,{children:n?h[0].children:Object(a.jsx)(l.a,{to:Object(c.a)(Object(c.a)({},O),{},{pathname:"".concat(x,"/").concat(h[0].path)}),push:!1})}),u]})}function O(e){var t=e.children;return Object(a.jsx)(j.Provider,{value:t[0].props.children.map((function(e){return e.props})),children:t.slice(1)})}},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return c.a})),n.d(t,"c",(function(){return c.b})),n.d(t,"b",(function(){return o}));var c=n(165),a=n(11),r=n(0),s=n(1),i=n(86),l=n(8);function o(e){var t=e.type,n=void 0===t?"radio":t,o=e.availableModes,d=void 0===o?l.b.availableModes:o,u=e.autoSelectFirst,b=void 0!==u&&u,j=e.oneOrAll,h=void 0!==j&&j,m=Object(c.b)(),O=Object(a.a)(m,2),x=O[0],f=O[1],v=Object(s.useCallback)((function(e){return f({selectedModes:e})}),[f]);return Object(s.useEffect)((function(){if(d.length){var e=(x.selectedModes||[]).filter((function(e){return d.includes(e)}));e.length?!h||[1,d.length].includes(e.length)?"radio"===n&&e.length>1?f({selectedModes:[e[0]]}):e.length!==x.selectedModes.length&&f({selectedModes:e}):f({selectedModes:d}):b?f({selectedModes:[d[0]]}):h&&f({selectedModes:d})}}),[b,d,x.selectedModes,h,n,f]),l.b.availableModes.length<2?null:Object(r.jsx)("div",{className:"row mb-3",children:Object(r.jsx)("div",{className:"col",children:Object(r.jsx)(i.a,{type:n,mode:x.selectedModes,onChange:v,availableModes:d})})})}},822:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var c=n(0),a=n(1),r=n(179),s=n(177),i=n(9),l=n.n(i),o=n(63),d=n(16),u=n(11),b=n(48),j=n(8),h=n(26),m=n(10),O=n.n(m),x=n(76),f=n(6),v=n(47);function p(){var e=Object(a.useState)((function(){return O()()})),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)((function(){return O()()})),i=Object(u.a)(s,2),m=i[0],p=i[1],k=Object(a.useState)(!1),G=Object(u.a)(k,2),y=G[0],g=G[1],M=Object(a.useState)([]),P=Object(u.a)(M,2),C=P[0],N=P[1],w=Object(a.useCallback)(Object(d.a)(l.a.mark((function e(){var t,c,a,r,s,i,d,u,b,j,h,O,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),t=n.startOf("day"),c=m.endOf("day"),a={};case 4:if(!t.isBefore(c)){e.next=55;break}r=new x.a(t,null);case 6:return e.next=8,r.getNextChunk();case 8:if((s=e.sent).length){e.next=11;break}return e.abrupt("break",52);case 11:i=Object(o.a)(s),e.prev=12,i.s();case 14:if((d=i.n()).done){e.next=42;break}u=d.value,b=Object(o.a)(u.players),e.prev=17,b.s();case 19:if((j=b.n()).done){e.next=32;break}if(h=j.value,(O=h.accountId.toString())in a){e.next=25;break}return a[O]={id:O,minGame:u,maxGame:u,minGamePlayer:h,maxGamePlayer:h,numGames:1,totalPoints:h.score},e.abrupt("continue",30);case 25:(f=a[O]).numGames++,f.totalPoints+=h.score,h.score>f.maxGamePlayer.score&&(f.maxGame=u,f.maxGamePlayer=h),h.score<f.minGamePlayer.score&&(f.minGame=u,f.minGamePlayer=h);case 30:e.next=19;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(17),b.e(e.t0);case 37:return e.prev=37,b.f(),e.finish(37);case 40:e.next=14;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(12),i.e(e.t1);case 47:return e.prev=47,i.f(),e.finish(47);case 50:e.next=6;break;case 52:t=t.add(1,"day"),e.next=4;break;case 55:N(Object.values(a)),g(!1);case 57:case"end":return e.stop()}}),e,null,[[12,44,47,50],[17,34,37,40]])}))),[g,n,m,N,C]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{title:"\u5f00\u59cb\u65e5\u671f",children:Object(c.jsx)(b.b,{min:j.b.dateMin,date:n,onChange:r,className:"form-control"})}),Object(c.jsx)(b.c,{title:"\u7ed3\u675f\u65e5\u671f",children:Object(c.jsx)(b.b,{min:j.b.dateMin,date:m,onChange:p,className:"form-control"})}),y?Object(c.jsx)(h.a,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{type:"button",className:"btn btn-primary mt-3",onClick:w,children:"\u67e5\u8be2"}),C&&C.length?Object(c.jsxs)("table",{className:"table table-responsive-xl table-striped table-hover mt-3",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\u73a9\u5bb6"}),Object(c.jsx)("th",{children:"\u6700\u4f4e\u5206"}),Object(c.jsx)("th",{children:"\u6700\u4f4e\u5206\u6bd4\u8d5b\u65f6\u95f4"}),Object(c.jsx)("th",{children:"\u6700\u9ad8\u5206"}),Object(c.jsx)("th",{children:"\u6700\u9ad8\u5206\u6bd4\u8d5b\u65f6\u95f4"}),Object(c.jsx)("th",{children:"\u5e73\u5747\u70b9\u6570"})]})}),Object(c.jsx)("tbody",{children:C.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:Object(v.generatePlayerPathById)(e.id),children:e.maxGamePlayer.nickname})}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:f.GameRecord.getRecordLink(e.minGame,e.minGamePlayer),children:e.minGamePlayer.score})}),Object(c.jsx)("td",{children:f.GameRecord.formatFullStartTime(e.minGame)}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:f.GameRecord.getRecordLink(e.maxGame,e.maxGamePlayer),children:e.maxGamePlayer.score})}),Object(c.jsx)("td",{children:f.GameRecord.formatFullStartTime(e.maxGame)}),Object(c.jsx)("td",{children:Math.round(e.totalPoints/e.numGames)})]},e.id)}))})]}):null]})]})}var k=Object(c.jsx)(s.d,{children:[Object(c.jsx)(s.b,{path:"min-max",title:"\u6700\u4f4e/\u6700\u9ad8\u70b9\u5bf9\u5c40",children:Object(c.jsx)(p,{})},"")]});function G(){return Object(c.jsxs)(s.c,{children:[k,Object(c.jsxs)(r.a,{children:[Object(c.jsx)(s.a,{}),Object(c.jsx)(s.e,{})]})]})}}}]);
//# sourceMappingURL=7.b7ed5945.chunk.js.map