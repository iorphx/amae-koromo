(this["webpackJsonpamae-koromo"]=this["webpackJsonpamae-koromo"]||[]).push([[11],{456:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var r=a(18),n=a(0),o=a(1),i=a(158),c=a(5),d=a(79),l=a(20),s=a(72),u=a(12),m=a(7),j=function(e,t){var a=Object(u.d)()?1.5:2;return Object(n.jsx)(i.c,Object(r.a)(Object(r.a)({},e),{},{r:2.5*a,stroke:m.b.rankColors[e.payload.rank],onClick:function(){return window.open(c.GameRecord.getRecordLink(e.payload.game,e.payload.playerId),"_blank")}},t?{fill:m.b.rankColors[e.payload.rank],r:5*a}:{}))},b=function(e){return j(e,!0)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.active,a=e.payload;if(!t||!a||!a.length)return null;var r=a[0].payload;return Object(n.jsxs)("div",{className:"player-chart-tooltip",children:[Object(n.jsxs)("h5",{children:[c.GameRecord.formatFullStartTime(r.game)," ",r.game.modeId?Object(c.modeLabel)(r.game.modeId):""," ",Object(c.getRankLabelByIndex)(r.rank)," ",r.delta>0?"+":"",r.delta,"pt"]}),r.game.players.map((function(e){return Object(n.jsx)("p",{children:Object(n.jsx)(d.a,{player:e,game:r.game,isActive:r.playerId===e.accountId})},e.accountId.toString())}))]})};function v(e){var t=e.dataAdapter,a=e.playerId,r=e.aspect,d=void 0===r?2:r,m=e.numGames,v=void 0===m?Object(u.d)()?20:30:m,y=Object(o.useMemo)((function(){var e=[],r=t.getCount();if(!r)return e;for(var n=0;n<Math.min(r,v);n++){var o=t.getItem(n);if(!o||!("uuid"in o))break;var i=c.GameRecord.getRankIndexByPlayer(o,a);e.unshift({pos:3-i,rank:i,delta:0,cumulativeDelta:0,game:o,playerId:a})}for(var d=0,l=0,u=e;l<u.length;l++){var m=u[l],j=m.game;if(j.modeId){var b=j.players.filter((function(e){return e.accountId.toString()===a.toString()}))[0];m.delta=Object(s.e)(b.score,m.rank,j.modeId,new c.Level(b.level)),d+=m.delta,m.cumulativeDelta=d}}return e}),[t,v,a]);if(!y.length)return Object(n.jsx)(l.a,{});var f=y.some((function(e){return 0!==e.delta}));return Object(n.jsx)(i.i,{width:"100%",aspect:d,height:"auto",children:Object(n.jsxs)(i.f,{data:y,margin:{top:15,right:15,bottom:15,left:15},children:[Object(n.jsx)(i.k,{type:"number",domain:["dataMin","dataMax"],yAxisId:0,hide:!0}),Object(n.jsx)(i.k,{type:"number",domain:["dataMin","dataMax"],yAxisId:1,hide:!0}),f&&Object(n.jsx)(i.e,{isAnimationActive:!1,dataKey:"cumulativeDelta",type:"linear",stroke:"#969696",strokeWidth:1.5,yAxisId:1,dot:!1,activeDot:!1,strokeDasharray:"5 5"}),Object(n.jsx)(i.e,{isAnimationActive:!1,dataKey:"pos",type:"linear",stroke:"#b5c2ce",strokeWidth:3,dot:j,activeDot:b}),Object(n.jsx)(i.j,{cursor:!1,content:Object(n.jsx)(p,{})})]})})}}}]);
//# sourceMappingURL=11.b2706e94.chunk.js.map