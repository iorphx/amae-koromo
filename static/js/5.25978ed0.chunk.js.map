{"version":3,"sources":["components/modeModel/model.tsx","components/routing/index.tsx","components/modeModel/modelModeSelector.tsx","components/charts/simplePieChart.tsx","components/statistics/rankBySeats.tsx","components/statistics/dataByRank.tsx","components/statistics/fanStats.tsx","components/statistics/index.tsx"],"names":["DEFAULT_MODEL","selectedModes","ModelContext","React","createContext","useModel","useContext","ModelModeProvider","children","useReducer","oldModel","newProps","model","updateModel","value","useMemo","Provider","RouteDef","Error","ViewRoutes","Context","NavButtons","className","replace","keepState","withQueryString","t","useTranslation","routes","urlBase","useRouteMatch","url","filter","x","disabled","map","route","to","loc","pathname","path","state","undefined","search","exact","activeClassName","title","ViewSwitch","defaultRenderDirectly","mutateTitle","match","useLocation","push","SimpleRoutedSubViews","props","slice","ModelModeSelector","type","availableModes","Conf","autoSelectFirst","oneOrAll","allowedCombinations","uiSetModes","useCallback","modes","length","includes","some","comb","every","m","newAllowedCombinations","mode","removed","find","filteredCombinations","added","useEffect","onChange","DEFAULT_COLORS","RADIAN","Math","PI","renderCustomizedLabelFactory","lineHeight","innerLabelFontSize","lines","toString","trim","split","viewBox","cx","cy","outerRadius","startAngle","radius","angle","cos","y","sin","polarToCartesian","endAngle","sign","min","abs","getDeltaAngle","yStart","text","index","stroke","strokeWidth","fill","fontSize","textAnchor","dominantBaseline","defaultInnerLabel","item","innerLabel","defaultOuterLabel","outerLabel","SimplePieChart","items","outerLabelOffset","innerLabelLineHeight","colors","aspect","cells","Array","_","fillOpacity","renderCustomizedLabel","wrappedOuterLabel","ret","offsetRadius","width","height","isAnimationActive","data","nameKey","dataKey","label","valueAccessor","position","content","Chart","rates","numGames","toFixed","round","RankBySeats","useAsyncFactory","getRankRateBySeat","selectedData","HEADERS","concat","rankColors","DataByRank","features","statisticsSubPages","dataByRank","sort","a","b","getGlobalStatistics","Promise","resolve","join","modeData","Object","entries","localeCompare","haveNumPlayers","values","num_players","headers","levelId","levelData","Level","parseInt","getTag","basic","rank_rates","i","formatPercent","negative_rate","formatFixed3","avg_rank","extended","和牌率","放铳率","副露率","立直率","自摸率","流局率","流听率","count","floor","reduce","SORTERS","FanStatsView","getFanStats","useState","sorterIndex","setSorterIndex","sortedData","keys","key","modeId","id1","id2","indexOf","modeLabelNonTranslated","onClick","ROUTES","rankBySeat","fanStats","Routes"],"mappings":"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","file":"static/js/5.25978ed0.chunk.js","sourcesContent":["import React, { useReducer, useContext, ReactChild } from \"react\";\nimport { useMemo } from \"react\";\nimport { GameMode } from \"../../data/types\";\n\nexport interface Model {\n  selectedModes: GameMode[];\n}\n\ntype ModelUpdate = Partial<Model>;\ntype DispatchModelUpdate = (props: ModelUpdate) => void;\n\nconst DEFAULT_MODEL: Model = { selectedModes: [] };\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst ModelContext = React.createContext<[Readonly<Model>, DispatchModelUpdate]>([{ ...DEFAULT_MODEL }, () => {}]);\nexport const useModel = () => useContext(ModelContext);\n\nexport function ModelModeProvider({ children }: { children: ReactChild | ReactChild[] }) {\n  const [model, updateModel] = useReducer(\n    (oldModel: Model, newProps: ModelUpdate): Model => ({\n      ...oldModel,\n      ...newProps\n    }),\n    null,\n    (): Model => ({\n      ...DEFAULT_MODEL\n    })\n  );\n  const value: [Model, DispatchModelUpdate] = useMemo(() => [model, updateModel], [model, updateModel]);\n  return <ModelContext.Provider value={value}>{children}</ModelContext.Provider>;\n}\n","import React from \"react\";\nimport { useContext } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useRouteMatch, Switch, Route, Redirect, useLocation } from \"react-router\";\nimport { Helmet } from \"react-helmet\";\nimport { useTranslation } from \"react-i18next\";\n\ntype RouteDefProps = {\n  path: string;\n  exact?: boolean;\n  title: string;\n  disabled?: boolean;\n  children: React.ReactChild | React.ReactChildren;\n};\nexport const RouteDef: React.FunctionComponent<RouteDefProps> = () => {\n  throw new Error(\"Not intended for rendering\");\n};\n\ntype RoutesProps = { children: React.FunctionComponentElement<RouteDefProps>[] };\nexport const ViewRoutes: React.FunctionComponent<RoutesProps> = () => {\n  throw new Error(\"Not intended for rendering\");\n};\n\nconst Context = React.createContext<RouteDefProps[]>([]);\n\nexport function NavButtons({ className = \"\", replace = false, keepState = false, withQueryString = false }) {\n  const { t } = useTranslation(\"navButtons\");\n  const routes = useContext(Context);\n  const match = useRouteMatch() || { url: \"\" };\n  const urlBase = match.url.replace(/\\/+$/, \"\");\n  return (\n    <nav className={`nav nav-pills mb-3 ${className}`}>\n      {routes\n        .filter((x) => !x.disabled)\n        .map((route) => (\n          <NavLink\n            key={route.path}\n            to={(loc) => ({\n              pathname: `${urlBase}/${route.path}`,\n              state: keepState ? loc.state : undefined,\n              ...(withQueryString && loc.search ? { search: loc.search } : {}),\n            })}\n            replace={replace}\n            exact={!!route.exact}\n            className=\"nav-link\"\n            activeClassName=\"active\"\n          >\n            {t(route.title)}\n          </NavLink>\n        ))}\n    </nav>\n  );\n}\n\nexport function ViewSwitch({\n  defaultRenderDirectly = false,\n  mutateTitle = true,\n  children,\n}: {\n  defaultRenderDirectly?: boolean;\n  mutateTitle?: boolean;\n  children?: React.ReactChild | React.ReactChildren;\n}) {\n  const { t } = useTranslation(\"navButtons\");\n  const routes = useContext(Context);\n  const match = useRouteMatch() || { url: \"\" };\n  const loc = useLocation();\n  const urlBase = match.url.replace(/\\/+$/, \"\");\n  return (\n    <Switch>\n      {routes\n        .filter((x) => !x.disabled)\n        .map((route) => (\n          <Route exact={route.exact} key={route.path} path={`${urlBase}/${route.path}`}>\n            {mutateTitle && (\n              <Helmet>\n                <title>{t(route.title)}</title>\n              </Helmet>\n            )}\n            {route.children}\n          </Route>\n        ))}\n      <Route>\n        {defaultRenderDirectly ? (\n          routes.filter((x) => !x.disabled)[0].children\n        ) : (\n          <Redirect to={{ ...loc, pathname: `${urlBase}/${routes.filter((x) => !x.disabled)[0].path}` }} push={false} />\n        )}\n      </Route>\n      {children}\n    </Switch>\n  );\n}\n\nexport function SimpleRoutedSubViews({\n  children,\n}: {\n  children: [React.FunctionComponentElement<RoutesProps>, ...(React.ReactChild | React.ReactChildren)[]];\n}) {\n  return (\n    <Context.Provider value={children[0].props.children.map((x) => x.props)}>{children.slice(1)}</Context.Provider>\n  );\n}\n","import React, { useEffect, useMemo } from \"react\";\nimport { useCallback } from \"react\";\nimport { ModeSelector } from \"../gameRecords/modeSelector\";\nimport { useModel } from \"./model\";\nimport Conf from \"../../utils/conf\";\nimport { GameMode } from \"../../data/types\";\n\nexport default function ModelModeSelector({\n  type = \"radio\" as \"radio\" | \"checkbox\",\n  availableModes = Conf.availableModes,\n  autoSelectFirst = false,\n  oneOrAll = false,\n  allowedCombinations = null as null | GameMode[][],\n}) {\n  allowedCombinations = useMemo(() => allowedCombinations || (oneOrAll ? [availableModes] : null), [\n    allowedCombinations,\n    oneOrAll,\n    availableModes,\n  ]);\n  const [model, updateModel] = useModel();\n  const uiSetModes = useCallback(\n    (modes: GameMode[]) => {\n      if (!availableModes.length) {\n        return;\n      }\n      modes = modes.filter((x) => availableModes.includes(x));\n      if (!modes.length) {\n        return;\n      }\n      if (type === \"radio\") {\n        if (model.selectedModes[0] !== modes[0]) {\n          updateModel({ selectedModes: [modes[0]] });\n        }\n        return;\n      }\n      if (modes.length > 1 && allowedCombinations) {\n        const isAllowed = allowedCombinations.some(\n          (comb) => modes.length === comb.length && modes.every((m) => comb.includes(m))\n        );\n        if (!isAllowed) {\n          let newAllowedCombinations = allowedCombinations.filter((comb) => modes.every((mode) => comb.includes(mode)));\n          if (newAllowedCombinations.length > 0) {\n            const removed = model.selectedModes.find((x) => !modes.includes(x));\n            if (removed) {\n              const filteredCombinations = newAllowedCombinations.filter((x) => !x.includes(removed));\n              if (!filteredCombinations.length) {\n                return;\n              }\n              newAllowedCombinations = filteredCombinations;\n            }\n          }\n          if (newAllowedCombinations.length > 0) {\n            modes = newAllowedCombinations[0];\n          } else {\n            const added = modes.find((x) => !model.selectedModes.includes(x));\n            if (!added) {\n              return;\n            }\n            modes = [added];\n          }\n        }\n      }\n      if (modes.length === model.selectedModes.length && modes.every((x) => model.selectedModes.includes(x))) {\n        return;\n      }\n      updateModel({ selectedModes: modes });\n    },\n    [updateModel, availableModes, model, allowedCombinations, type]\n  );\n  useEffect(() => {\n    if (!availableModes.length) {\n      return;\n    }\n    let selectedModes = (model.selectedModes || []).filter((x) => availableModes.includes(x));\n    if (\n      allowedCombinations &&\n      selectedModes.length > 1 &&\n      !allowedCombinations.some(\n        (comb) => comb.length === selectedModes.length && comb.every((mode) => selectedModes.includes(mode))\n      )\n    ) {\n      selectedModes = [];\n    }\n    if (type === \"radio\" && selectedModes.length > 1) {\n      selectedModes = [selectedModes[0]];\n    }\n\n    if (!selectedModes.length) {\n      if (autoSelectFirst) {\n        updateModel({ selectedModes: [availableModes[0]] });\n      } else if (allowedCombinations) {\n        updateModel({ selectedModes: allowedCombinations[0] });\n      }\n      return;\n    }\n    if (\n      selectedModes.length === model.selectedModes.length &&\n      selectedModes.every((x) => model.selectedModes.includes(x))\n    ) {\n      return;\n    }\n    updateModel({ selectedModes });\n  }, [autoSelectFirst, availableModes, model.selectedModes, allowedCombinations, type, updateModel]);\n  if (Conf.availableModes.length < 2) {\n    return null;\n  }\n  return (\n    <div className=\"row mb-3\">\n      <div className=\"col\">\n        <ModeSelector type={type} mode={model.selectedModes} onChange={uiSetModes} availableModes={availableModes} />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  LabelList,\n  LabelProps,\n  PolarViewBox,\n} from \"recharts\";\nimport { useMemo } from \"react\";\n\nconst DEFAULT_COLORS = [\"#003f5c\", \"#7a5195\", \"#ef5675\", \"#ffa600\"];\n\nconst getDeltaAngle = (startAngle: number, endAngle: number) => {\n  const sign = Math.sign(endAngle - startAngle);\n  const deltaAngle = Math.min(Math.abs(endAngle - startAngle), 360);\n\n  return sign * deltaAngle;\n};\n\nconst RADIAN = Math.PI / 180;\n\nconst polarToCartesian = (cx: number, cy: number, radius: number, angle: number) => ({\n  x: cx + Math.cos(-RADIAN * angle) * radius,\n  y: cy + Math.sin(-RADIAN * angle) * radius,\n});\n\nconst renderCustomizedLabelFactory = ({ lineHeight = 24, innerLabelFontSize = \"1rem\" }) => (props: LabelProps) => {\n  const { value } = props;\n  if (!value) {\n    return null;\n  }\n  const lines = value.toString().trim().split(\"\\n\");\n  const { cx, cy, outerRadius, startAngle, endAngle } = props.viewBox as Required<PolarViewBox>;\n  const labelAngle = startAngle + getDeltaAngle(startAngle, endAngle) / 2;\n  const { x, y } = polarToCartesian(cx, cy, outerRadius / 2, labelAngle);\n  const yStart = y - (lines.length - 1) * (lineHeight / 2);\n  return (\n    <g>\n      {lines.map((text, index) => (\n        <text\n          key={index}\n          x={x}\n          y={yStart + index * lineHeight}\n          stroke=\"#fff\"\n          strokeWidth=\"0.5\"\n          fill=\"#fff\"\n          fontSize={innerLabelFontSize}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n        >\n          {text}\n        </text>\n      ))}\n    </g>\n  );\n};\n\nexport type PieChartItem = {\n  value: number;\n  innerLabel?: string;\n  outerLabel?: string;\n};\n\nfunction defaultInnerLabel<T extends PieChartItem>(item: T) {\n  return item.innerLabel || \"\";\n}\nfunction defaultOuterLabel<T extends PieChartItem>(item: T) {\n  return item.outerLabel || \"\";\n}\n\nexport default function SimplePieChart<T extends PieChartItem>({\n  items,\n  innerLabel = defaultInnerLabel,\n  outerLabel = defaultOuterLabel,\n  outerLabelOffset = 0,\n  innerLabelLineHeight = 24,\n  startAngle = 0,\n  colors = DEFAULT_COLORS,\n  innerLabelFontSize = \"1rem\",\n  aspect = 1,\n}: {\n  items: T[];\n  innerLabel?: (item: T) => string;\n  outerLabel?: (item: T) => string;\n  outerLabelOffset?: number;\n  innerLabelLineHeight?: number;\n  startAngle?: number;\n  colors?: string[];\n  innerLabelFontSize?: string;\n  aspect?: number;\n}) {\n  const cells = useMemo(\n    () =>\n      Array(items.length)\n        .fill(0)\n        .map((_, index) => <Cell fill={colors[index % colors.length]} fillOpacity={1} key={`cell-${index}`} />),\n    [items.length, colors]\n  );\n  const renderCustomizedLabel = useMemo(\n    () => renderCustomizedLabelFactory({ lineHeight: innerLabelLineHeight, innerLabelFontSize }),\n    [innerLabelLineHeight, innerLabelFontSize]\n  );\n  const wrappedOuterLabel = useMemo(() => {\n    const ret = (item: T) => outerLabel(item);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (ret as any).offsetRadius = outerLabelOffset;\n    return ret;\n  }, [outerLabel, outerLabelOffset]);\n  return (\n    <ResponsiveContainer width=\"100%\" aspect={aspect} height=\"auto\">\n      <PieChart>\n        <Pie\n          isAnimationActive={false}\n          data={items}\n          nameKey=\"outerLabel\"\n          dataKey=\"value\"\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          label={wrappedOuterLabel as (x: any) => string}\n          startAngle={startAngle}\n          endAngle={startAngle + 360}\n        >\n          {cells}\n          <LabelList\n            valueAccessor={innerLabel}\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataKey={undefined as any}\n            position=\"inside\"\n            content={renderCustomizedLabel}\n            {...{ fill: \"#fff\" }}\n          />\n        </Pie>\n      </PieChart>\n    </ResponsiveContainer>\n  );\n}\n","import React from \"react\";\nimport { useAsyncFactory } from \"../../utils/index\";\nimport { getRankRateBySeat } from \"../../data/source/misc\";\nimport Loading from \"../misc/loading\";\nimport { useMemo } from \"react\";\nimport { useModel, ModelModeSelector } from \"../modeModel\";\nimport SimplePieChart from \"../charts/simplePieChart\";\nimport { useTranslation } from \"react-i18next\";\nimport { RankRates } from \"../../data/types\";\nimport Conf from \"../../utils/conf\";\n\nconst SEAT_LABELS = \"东南西北\";\n\nfunction Chart({ rates, numGames, aspect = 1 }: { rates: RankRates; numGames: number; aspect?: number }) {\n  const { t } = useTranslation();\n  const items = useMemo(\n    () =>\n      rates.map((x, index) => ({\n        value: x,\n        outerLabel: t(SEAT_LABELS[index]),\n        innerLabel: `${(x * 100).toFixed(2)}%\\n[${Math.round(x * numGames)}]`,\n      })),\n    [rates, numGames, t]\n  );\n  return <SimplePieChart aspect={aspect} items={items} />;\n}\n\nexport default function RankBySeats() {\n  const { t } = useTranslation();\n  const data = useAsyncFactory(getRankRateBySeat, [], \"getRankRateBySeat\");\n  const [model] = useModel();\n  if (!data) {\n    return <Loading />;\n  }\n  const selectedData = Conf.availableModes.length\n    ? model.selectedModes && model.selectedModes.length && data[model.selectedModes[0]]\n    : data[0];\n  return (\n    <>\n      <ModelModeSelector autoSelectFirst={true} />\n      {selectedData ? (\n        <>\n          <div className=\"row\">\n            <div className=\"col-lg-6\">\n              <h3 className=\"text-center\">{t(\"坐席吃一率\")}</h3>\n              <Chart rates={selectedData[1]} numGames={selectedData.numGames} />\n            </div>\n            <div className=\"col-lg-6\">\n              <h3 className=\"text-center\">{t(`坐席吃${selectedData.length > 4 ? \"四\" : \"三\"}率`)}</h3>\n              <Chart rates={selectedData[selectedData.length - 1]} numGames={selectedData.numGames} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col text-right\">\n              {t(\"统计半庄数：\")}\n              {selectedData.numGames}\n            </div>\n          </div>\n        </>\n      ) : (\n        <></>\n      )}\n    </>\n  );\n}\n","import React, { useMemo } from \"react\";\n\nimport { useAsyncFactory, formatPercent, formatFixed3 } from \"../../utils/index\";\nimport { getGlobalStatistics } from \"../../data/source/misc\";\nimport Loading from \"../misc/loading\";\nimport { useModel } from \"../modeModel/model\";\nimport { Level } from \"../../data/types/level\";\nimport { ModelModeSelector } from \"../modeModel\";\nimport { useTranslation } from \"react-i18next\";\nimport Conf from \"../../utils/conf\";\n\nconst HEADERS = [\"等级\"].concat([\"一位率\", \"二位率\", \"三位率\", \"四位率\"].slice(0, Conf.rankColors.length), [\n  \"被飞率\",\n  \"平均顺位\",\n  \"和牌率\",\n  \"放铳率\",\n  \"副露率\",\n  \"立直率\",\n  \"自摸率\",\n  \"流局率\",\n  \"流听率\",\n  \"对战数\",\n  \"在位记录\",\n]);\n\nexport default function DataByRank() {\n  const { t } = useTranslation();\n  const [model] = useModel();\n  const modes = useMemo(\n    () =>\n      model.selectedModes\n        .filter((x) => (Conf.features.statisticsSubPages.dataByRank || []).includes(x))\n        .sort((a, b) => a - b),\n    [model]\n  );\n  const data = useAsyncFactory(\n    () => (modes && modes.length ? getGlobalStatistics(modes) : Promise.resolve(null)),\n    [modes],\n    \"getGlobalStatistics_\" + modes.join(\".\")\n  );\n  const modeData = useMemo(() => {\n    if (!data) {\n      return undefined;\n    }\n    const selectedData = data[modes.join(\".\")];\n    if (!selectedData) {\n      return undefined;\n    }\n    const modeData = Object.entries(selectedData);\n    if (!modeData) {\n      return undefined;\n    }\n    modeData.sort((a, b) => a[0].localeCompare(b[0]));\n    return modeData;\n  }, [data, modes]);\n  const haveNumPlayers = modeData && Object.values(modeData)[0][1].num_players;\n  const headers = useMemo(() => (haveNumPlayers ? HEADERS : HEADERS.slice(0, HEADERS.length - 1)), [haveNumPlayers]);\n  if (!Conf.features.statisticsSubPages.dataByRank) {\n    return <></>;\n  }\n  return (\n    <>\n      <ModelModeSelector type=\"checkbox\" availableModes={Conf.features.statisticsSubPages.dataByRank} autoSelectFirst />\n      {modeData ? (\n        <>\n          <table className=\"table table-responsive-xl table-striped table-sm table-hover text-center\">\n            <thead className=\"vertical-table-header\">\n              <tr>\n                {headers.map((x) => (\n                  <th key={x}>\n                    <div>{t(x)}</div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {modeData.map(([levelId, levelData]) => (\n                <tr key={levelId}>\n                  <td className=\"text-nowrap\">{new Level(parseInt(levelId)).getTag()}</td>\n                  {levelData.basic.rank_rates.slice(0, Conf.rankColors.length).map((x, i) => (\n                    <td key={i}>{formatPercent(x)}</td>\n                  ))}\n                  <td>{formatPercent(levelData.basic.negative_rate)}</td>\n                  <td>{formatFixed3(levelData.basic.avg_rank)}</td>\n                  <td>{formatPercent(levelData.extended.和牌率)}</td>\n                  <td>{formatPercent(levelData.extended.放铳率)}</td>\n                  <td>{formatPercent(levelData.extended.副露率)}</td>\n                  <td>{formatPercent(levelData.extended.立直率)}</td>\n                  <td>{formatPercent(levelData.extended.自摸率)}</td>\n                  <td>{formatPercent(levelData.extended.流局率)}</td>\n                  <td>{formatPercent(levelData.extended.流听率)}</td>\n                  <td>{levelData.basic.count}</td>\n                  {haveNumPlayers && <td>{levelData.num_players}</td>}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <div className=\"row\">\n            <div className=\"col text-right\">\n              {t(\"统计半庄数：\")}\n              {Math.floor(\n                modeData.map(([, levelData]) => levelData.basic.count).reduce((a, b) => a + b, 0) /\n                  Conf.rankColors.length\n              )}\n            </div>\n          </div>\n        </>\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\n\nimport { useAsyncFactory, formatPercent } from \"../../utils/index\";\nimport { getFanStats } from \"../../data/source/misc\";\nimport Loading from \"../misc/loading\";\nimport { FanStatEntry, FanStats, GameMode, modeLabelNonTranslated } from \"../../data/types\";\nimport { useState, useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Conf from \"../../utils/conf\";\n\nconst SORTERS: (undefined | ((a: FanStatEntry, b: FanStatEntry) => number))[] = [\n  undefined,\n  (a, b) => a.count - b.count,\n  (a, b) => b.count - a.count,\n];\n\nexport default function FanStatsView() {\n  const { t } = useTranslation();\n  const data = useAsyncFactory(getFanStats, [], \"getFanStats\");\n  const [sorterIndex, setSorterIndex] = useState(0);\n  const sortedData = useMemo((): FanStats | undefined => {\n    if (!data) {\n      return undefined;\n    }\n    if (!SORTERS[sorterIndex]) {\n      return data;\n    }\n    const ret = { ...data };\n    for (const key of Object.keys(ret)) {\n      ret[key] = {\n        ...ret[key],\n        entries: [...ret[key].entries].sort(SORTERS[sorterIndex]),\n      };\n    }\n    return ret;\n  }, [data, sorterIndex]);\n  if (!sortedData) {\n    return <Loading />;\n  }\n  return (\n    <>\n      <div className=\"row\">\n        {Object.entries(sortedData)\n          .map(([modeId, value]) => [parseInt(modeId, 10) as GameMode, value] as [GameMode, typeof value])\n          .sort(([id1], [id2]) => Conf.availableModes.indexOf(id1) - Conf.availableModes.indexOf(id2))\n          .map(([mode, value]) => (\n            <div className=\"col-xl-4\" key={mode}>\n              <h2 className=\"text-center\">{t(modeLabelNonTranslated(mode))}</h2>\n              <p className=\"text-center\">\n                {t(\"记录和出局数：\")}\n                {value.count}\n              </p>\n              <table className=\"table table-striped\">\n                <thead onClick={() => setSorterIndex((sorterIndex + 1) % SORTERS.length)} className=\"cursor-pointer\">\n                  <tr>\n                    <th>{t(\"役\")}</th>\n                    <th className=\"text-right\">{t(\"记录数\")}</th>\n                    <th className=\"text-right\">{t(\"比率\")}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {value.entries.map((x) => (\n                    <tr key={x.label}>\n                      <td>{t(x.label)}</td>\n                      <td className=\"text-right\">{x.count}</td>\n                      <td className=\"text-right\">\n                        {x.count\n                          ? x.count / value.count < 0.0001\n                            ? \"<0.01%\"\n                            : formatPercent(x.count / value.count)\n                          : \"\"}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ))}\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\n\nimport { ModelModeProvider } from \"../modeModel\";\nimport { ViewRoutes, SimpleRoutedSubViews, NavButtons, RouteDef } from \"../routing\";\nimport { ViewSwitch } from \"../routing/index\";\n\nimport RankBySeats from \"./rankBySeats\";\nimport DataByRank from \"./dataByRank\";\nimport FanStats from \"./fanStats\";\nimport Conf from \"../../utils/conf\";\n\nconst ROUTES = (\n  <ViewRoutes>\n    <RouteDef path=\"rank-by-seat\" title=\"坐席顺位\" disabled={!Conf.features.statisticsSubPages.rankBySeat}>\n      <RankBySeats />\n    </RouteDef>\n    <RouteDef path=\"data-by-rank\" title=\"等级数据\" disabled={!Conf.features.statisticsSubPages.dataByRank}>\n      <DataByRank />\n    </RouteDef>\n    <RouteDef path=\"fan-stats\" title=\"和出役种统计\" disabled={!Conf.features.statisticsSubPages.fanStats}>\n      <FanStats />\n    </RouteDef>\n  </ViewRoutes>\n);\n\nexport default function Routes() {\n  return (\n    <SimpleRoutedSubViews>\n      {ROUTES}\n      <ModelModeProvider>\n        <NavButtons />\n        <ViewSwitch />\n      </ModelModeProvider>\n    </SimpleRoutedSubViews>\n  );\n}\n"],"sourceRoot":""}