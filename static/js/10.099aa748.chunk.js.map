{"version":3,"sources":["components/playerDetails/charts/rankRate.tsx"],"names":["CELLS","Conf","rankColors","map","color","index","fill","fillOpacity","formatLabel","x","rate","label","createLabelLine","props","payload","type","className","RankRateChart","metadata","aspect","ranks","useMemo","rank_rates","getRankLabelByIndex","startAngle","filter","length","width","height","margin","left","right","isAnimationActive","data","labelLine","nameKey","dataKey","endAngle","formatter","formatPercent","position"],"mappings":"oNAaMA,E,KAJJC,EAAKC,WAAWC,KAAI,SAACC,EAAOC,GAAR,OAClB,cAAC,IAAD,CAAMC,KAAMF,EAAOG,YAAqC,GAAxD,eAA4EF,OAM1EG,EAAc,SAACC,GAAD,OAAaA,EAAEC,KAAO,EAAID,EAAEE,MAAQ,MAElDC,EAAkB,SAACC,GAAD,OACtBA,EAAMC,QAAQA,QAAQJ,KAAO,EAAI,cAAC,IAAD,2BAAWG,GAAX,IAAkBE,KAAK,SAASC,UAAU,6BAA+B,MAE7F,SAASC,EAAT,GAAiG,IAAxEC,EAAuE,EAAvEA,SAAuE,IAA7DC,cAA6D,MAApD,EAAoD,EACvGC,EAAQC,mBAAQ,kBAAMH,EAASI,WAAWnB,KAAI,SAACM,EAAGJ,GAAJ,MAAe,CAAEM,MAAOY,8BAAoBlB,GAAQK,KAAMD,QAAO,CACnHS,IAEIM,EAAaJ,EAAMK,QAAO,SAAAhB,GAAC,OAAIA,EAAEC,KAAO,KAAGgB,OAAS,EAAI,GAAK,EACnE,OACE,cAAC,IAAD,CAAqBC,MAAM,OAAOR,OAAQA,EAAQS,OAAO,OAAzD,SACE,cAAC,IAAD,CAAUC,OAAQ,CAAEC,KAAM,GAAIC,MAAO,IAArC,SACE,eAAC,IAAD,CACEC,mBAAmB,EACnBC,KAAMb,EACNT,MAAOH,EACP0B,UAAWtB,EACXuB,QAAQ,QACRC,QAAQ,OACRZ,WAAYA,EACZa,SAAUb,EAAa,IARzB,UAUGxB,EACD,cAAC,IAAD,aAAWoC,QAAQ,OAAOE,UAAWC,IAAeC,SAAS,UAAa,CAAElC,KAAM","file":"static/js/10.099aa748.chunk.js","sourcesContent":["import React from \"react\";\nimport { ResponsiveContainer, PieChart, Pie, Cell, LabelList, Curve } from \"recharts\";\n\nimport { PlayerMetadata, getRankLabelByIndex } from \"../../../data/types\";\nimport { useMemo } from \"react\";\nimport { formatPercent } from \"../../../utils/index\";\nimport Conf from \"../../../utils/conf\";\n\nconst generateCells = (activeIndex: number) =>\n  Conf.rankColors.map((color, index) => (\n    <Cell fill={color} fillOpacity={activeIndex === index ? 1 : 1} key={`cell-${index}`} />\n  ));\n\nconst CELLS = generateCells(-1);\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst formatLabel = (x: any) => (x.rate > 0 ? x.label : null);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst createLabelLine = (props: any) =>\n  props.payload.payload.rate > 0 ? <Curve {...props} type=\"linear\" className=\"recharts-pie-label-line\" /> : null;\n\nexport default function RankRateChart({ metadata, aspect = 1 }: { metadata: PlayerMetadata; aspect?: number }) {\n  const ranks = useMemo(() => metadata.rank_rates.map((x, index) => ({ label: getRankLabelByIndex(index), rate: x })), [\n    metadata,\n  ]);\n  const startAngle = ranks.filter(x => x.rate > 0).length < 4 ? 45 : 0;\n  return (\n    <ResponsiveContainer width=\"100%\" aspect={aspect} height=\"auto\">\n      <PieChart margin={{ left: 20, right: 20 }}>\n        <Pie\n          isAnimationActive={false}\n          data={ranks}\n          label={formatLabel}\n          labelLine={createLabelLine}\n          nameKey=\"label\"\n          dataKey=\"rate\"\n          startAngle={startAngle}\n          endAngle={startAngle + 360}\n        >\n          {CELLS}\n          <LabelList dataKey=\"rate\" formatter={formatPercent} position=\"inside\" {...{ fill: \"#fff\" }} />\n        </Pie>\n      </PieChart>\n    </ResponsiveContainer>\n  );\n}\n"],"sourceRoot":""}