(this["webpackJsonpamae-koromo"]=this["webpackJsonpamae-koromo"]||[]).push([[5],{166:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d}));var c=n(11),r=n(23),a=n(0),s=n(1),i={selectedModes:[]},l=n.n(s).a.createContext([Object(r.a)({},i),function(){}]),o=function(){return Object(s.useContext)(l)};function d(e){var t=e.children,n=Object(s.useReducer)((function(e,t){return Object(r.a)(Object(r.a)({},e),t)}),null,(function(){return Object(r.a)({},i)})),o=Object(c.a)(n,2),d=o[0],j=o[1],b=Object(s.useMemo)((function(){return[d,j]}),[d,j]);return Object(a.jsx)(l.Provider,{value:b,children:t})}},178:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return x}));var c=n(23),r=n(0),a=n(1),s=n.n(a),i=n(31),l=n(12),o=n(69),d=n(112),j=function(){throw new Error("Not intended for rendering")},b=function(){throw new Error("Not intended for rendering")},u=s.a.createContext([]);function O(e){var t=e.className,n=void 0===t?"":t,s=e.replace,o=void 0!==s&&s,j=e.keepState,b=void 0!==j&&j,O=e.withQueryString,h=void 0!==O&&O,x=Object(d.a)("navButtons").t,f=Object(a.useContext)(u),v=(Object(l.k)()||{url:""}).url.replace(/\/+$/,"");return Object(r.jsx)("nav",{className:"nav nav-pills mb-3 ".concat(n),children:f.filter((function(e){return!e.disabled})).map((function(e){return Object(r.jsx)(i.c,{to:function(t){return Object(c.a)({pathname:"".concat(v,"/").concat(e.path),state:b?t.state:void 0},h&&t.search?{search:t.search}:{})},replace:o,exact:!!e.exact,className:"nav-link",activeClassName:"active",children:x(e.title)},e.path)}))})}function h(e){var t=e.defaultRenderDirectly,n=void 0!==t&&t,s=e.mutateTitle,i=void 0===s||s,j=e.children,b=Object(d.a)("navButtons").t,O=Object(a.useContext)(u),h=Object(l.k)()||{url:""},x=Object(l.i)(),f=h.url.replace(/\/+$/,"");return Object(r.jsxs)(l.d,{children:[O.filter((function(e){return!e.disabled})).map((function(e){return Object(r.jsxs)(l.b,{exact:e.exact,path:"".concat(f,"/").concat(e.path),children:[i&&Object(r.jsx)(o.Helmet,{children:Object(r.jsx)("title",{children:b(e.title)})}),e.children]},e.path)})),Object(r.jsx)(l.b,{children:n?O[0].children:Object(r.jsx)(l.a,{to:Object(c.a)(Object(c.a)({},x),{},{pathname:"".concat(f,"/").concat(O[0].path)}),push:!1})}),j]})}function x(e){var t=e.children;return Object(r.jsx)(u.Provider,{value:t[0].props.children.map((function(e){return e.props})),children:t.slice(1)})}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return c.a})),n.d(t,"c",(function(){return c.b})),n.d(t,"b",(function(){return o}));var c=n(166),r=n(11),a=n(0),s=n(1),i=n(86),l=n(8);function o(e){var t=e.type,n=void 0===t?"radio":t,o=e.availableModes,d=void 0===o?l.b.availableModes:o,j=e.autoSelectFirst,b=void 0!==j&&j,u=e.oneOrAll,O=void 0!==u&&u,h=Object(c.b)(),x=Object(r.a)(h,2),f=x[0],v=x[1],m=Object(s.useCallback)((function(e){return v({selectedModes:e})}),[v]);return Object(s.useEffect)((function(){if(d.length){var e=(f.selectedModes||[]).filter((function(e){return d.includes(e)}));e.length?!O||[1,d.length].includes(e.length)?"radio"===n&&e.length>1?v({selectedModes:[e[0]]}):e.length!==f.selectedModes.length&&v({selectedModes:e}):v({selectedModes:d}):b?v({selectedModes:[d[0]]}):O&&v({selectedModes:d})}}),[b,d,f.selectedModes,O,n,v]),l.b.availableModes.length<2?null:Object(a.jsx)("div",{className:"row mb-3",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(i.a,{type:n,mode:f.selectedModes,onChange:m,availableModes:d})})})}},289:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(23),r=n(0),a=n(1),s=n(261),i=["#003f5c","#7a5195","#ef5675","#ffa600"],l=Math.PI/180,o=function(e){var t=e.lineHeight,n=void 0===t?24:t,c=e.innerLabelFontSize,a=void 0===c?"1rem":c;return function(e){var t=e.value;if(!t)return null;var c=t.toString().trim().split("\n"),s=e.viewBox,i=s.cx,o=s.cy,d=s.outerRadius,j=s.startAngle,b=function(e,t,n,c){return{x:e+Math.cos(-l*c)*n,y:t+Math.sin(-l*c)*n}}(i,o,d/2,j+function(e,t){return Math.sign(t-e)*Math.min(Math.abs(t-e),360)}(j,s.endAngle)/2),u=b.x,O=b.y-(c.length-1)*(n/2);return Object(r.jsx)("g",{children:c.map((function(e,t){return Object(r.jsx)("text",{x:u,y:O+t*n,stroke:"#fff",strokeWidth:"0.5",fill:"#fff",fontSize:a,textAnchor:"middle",dominantBaseline:"central",children:e},t)}))})}};function d(e){return e.innerLabel||""}function j(e){return e.outerLabel||""}function b(e){var t=e.items,n=e.innerLabel,l=void 0===n?d:n,b=e.outerLabel,u=void 0===b?j:b,O=e.outerLabelOffset,h=void 0===O?0:O,x=e.innerLabelLineHeight,f=void 0===x?24:x,v=e.startAngle,m=void 0===v?0:v,g=e.colors,p=void 0===g?i:g,M=e.innerLabelFontSize,N=void 0===M?"1rem":M,k=e.aspect,y=void 0===k?1:k,S=Object(a.useMemo)((function(){return Array(t.length).fill(0).map((function(e,t){return Object(r.jsx)(s.a,{fill:p[t%p.length],fillOpacity:1},"cell-".concat(t))}))}),[t.length,p]),w=Object(a.useMemo)((function(){return o({lineHeight:f,innerLabelFontSize:N})}),[f,N]),L=Object(a.useMemo)((function(){var e=function(e){return u(e)};return e.offsetRadius=h,e}),[u,h]);return Object(r.jsx)(s.i,{width:"100%",aspect:y,height:"auto",children:Object(r.jsx)(s.h,{children:Object(r.jsxs)(s.g,{isAnimationActive:!1,data:t,nameKey:"outerLabel",dataKey:"value",label:L,startAngle:m,endAngle:m+360,children:[S,Object(r.jsx)(s.d,Object(c.a)({valueAccessor:l,dataKey:void 0,position:"inside",content:w},{fill:"#fff"}))]})})})}},821:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var c=n(0),r=n(1),a=n(180),s=n(178),i=n(11),l=n(13),o=n(87),d=n(26),j=n(289),b=n(112),u=n(8);function O(e){var t=e.rates,n=e.numGames,a=e.aspect,s=void 0===a?1:a,i=Object(b.a)().t,l=Object(r.useMemo)((function(){return t.map((function(e,t){return{value:e,outerLabel:i("\u4e1c\u5357\u897f\u5317"[t]),innerLabel:"".concat((100*e).toFixed(2),"%\n[").concat(Math.round(e*n),"]")}}))}),[t,n,i]);return Object(c.jsx)(j.a,{aspect:s,items:l})}function h(){var e=Object(b.a)().t,t=Object(l.i)(o.e,[],"getRankRateBySeat"),n=Object(a.c)(),r=Object(i.a)(n,1)[0];if(!t)return Object(c.jsx)(d.a,{});var s=u.b.availableModes.length?r.selectedModes&&r.selectedModes.length&&t[r.selectedModes[0]]:t[0];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(a.b,{autoSelectFirst:!0}),s?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-lg-6",children:[Object(c.jsx)("h3",{className:"text-center",children:e("\u5750\u5e2d\u5403\u4e00\u7387")}),Object(c.jsx)(O,{rates:s[1],numGames:s.numGames})]}),Object(c.jsxs)("div",{className:"col-lg-6",children:[Object(c.jsx)("h3",{className:"text-center",children:e("\u5750\u5e2d\u5403".concat(s.length>4?"\u56db":"\u4e09","\u7387"))}),Object(c.jsx)(O,{rates:s[s.length-1],numGames:s.numGames})]})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col text-right",children:[e("\u7edf\u8ba1\u534a\u5e84\u6570\uff1a"),s.numGames]})})]}):Object(c.jsx)(c.Fragment,{})]})}var x=n(166),f=n(55),v=["\u7b49\u7ea7"].concat(["\u4e00\u4f4d\u7387","\u4e8c\u4f4d\u7387","\u4e09\u4f4d\u7387","\u56db\u4f4d\u7387"].slice(0,u.b.rankColors.length),["\u88ab\u98de\u7387","\u5e73\u5747\u987a\u4f4d","\u548c\u724c\u7387","\u653e\u94f3\u7387","\u526f\u9732\u7387","\u7acb\u76f4\u7387","\u81ea\u6478\u7387","\u6d41\u5c40\u7387","\u6d41\u542c\u7387","\u5bf9\u6218\u6570","\u5728\u4f4d\u8bb0\u5f55"]);function m(){var e=Object(b.a)().t,t=Object(l.i)(o.d,[],"getGlobalStatistics"),n=Object(r.useMemo)((function(){return t?Object.keys(t).map((function(e){return parseInt(e,10)})).filter((function(e){return e})).sort((function(e,t){return u.b.availableModes.indexOf(e)-u.b.availableModes.indexOf(t)})):[]}),[t]),s=Object(x.b)(),j=Object(i.a)(s,1)[0],O=Object(r.useMemo)((function(){if(t){var e=t[1!==j.selectedModes.length?"0":j.selectedModes[0]];if(e){var n=Object.entries(e);if(n)return n.sort((function(e,t){return e[0].localeCompare(t[0])})),n}}}),[t,j.selectedModes]);return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(a.b,{type:"checkbox",availableModes:n,oneOrAll:!0}),O?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("table",{className:"table table-responsive-xl table-striped table-sm table-hover text-center",children:[Object(c.jsx)("thead",{className:"vertical-table-header",children:Object(c.jsx)("tr",{children:v.map((function(t){return Object(c.jsx)("th",{children:Object(c.jsx)("div",{children:e(t)})},t)}))})}),Object(c.jsx)("tbody",{children:O.map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-nowrap",children:new f.a(parseInt(n)).getTag()}),r.basic.rank_rates.slice(0,u.b.rankColors.length).map((function(e,t){return Object(c.jsx)("td",{children:Object(l.c)(e)},t)})),Object(c.jsx)("td",{children:Object(l.c)(r.basic.negative_rate)}),Object(c.jsx)("td",{children:Object(l.a)(r.basic.avg_rank)}),Object(c.jsx)("td",{children:Object(l.c)(r.extended.\u548c\u724c\u7387)}),Object(c.jsx)("td",{children:Object(l.c)(r.extended.\u653e\u94f3\u7387)}),Object(c.jsx)("td",{children:Object(l.c)(r.extended.\u526f\u9732\u7387)}),Object(c.jsx)("td",{children:Object(l.c)(r.extended.\u7acb\u76f4\u7387)}),Object(c.jsx)("td",{children:Object(l.c)(r.extended.\u81ea\u6478\u7387)}),Object(c.jsx)("td",{children:Object(l.c)(r.extended.\u6d41\u5c40\u7387)}),Object(c.jsx)("td",{children:Object(l.c)(r.extended.\u6d41\u542c\u7387)}),Object(c.jsx)("td",{children:r.basic.count}),Object(c.jsx)("td",{children:r.num_players})]},n)}))})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col text-right",children:[e("\u7edf\u8ba1\u534a\u5e84\u6570\uff1a"),Math.floor(O.map((function(e){return Object(i.a)(e,2)[1].basic.count})).reduce((function(e,t){return e+t}),0)/u.b.rankColors.length)]})})]}):Object(c.jsx)(d.a,{})]}):Object(c.jsx)(d.a,{})}var g=n(43),p=n(23),M=n(6),N=[void 0,function(e,t){return e.count-t.count},function(e,t){return t.count-e.count}];function k(){var e=Object(b.a)().t,t=Object(l.i)(o.c,[],"getFanStats"),n=Object(r.useState)(0),a=Object(i.a)(n,2),s=a[0],j=a[1],O=Object(r.useMemo)((function(){if(t){if(!N[s])return t;for(var e=Object(p.a)({},t),n=0,c=Object.keys(e);n<c.length;n++){var r=c[n];e[r]=Object(p.a)(Object(p.a)({},e[r]),{},{entries:Object(g.a)(e[r].entries).sort(N[s])})}return e}}),[t,s]);return O?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"row",children:Object.entries(O).map((function(e){var t=Object(i.a)(e,2),n=t[0],c=t[1];return[parseInt(n,10),c]})).sort((function(e,t){var n=Object(i.a)(e,1)[0],c=Object(i.a)(t,1)[0];return u.b.availableModes.indexOf(n)-u.b.availableModes.indexOf(c)})).map((function(t){var n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(c.jsxs)("div",{className:"col-xl-4",children:[Object(c.jsx)("h2",{className:"text-center",children:e(Object(M.modeLabelNonTranslated)(r))}),Object(c.jsxs)("p",{className:"text-center",children:[e("\u8bb0\u5f55\u548c\u51fa\u5c40\u6570\uff1a"),a.count]}),Object(c.jsxs)("table",{className:"table table-striped",children:[Object(c.jsx)("thead",{onClick:function(){return j((s+1)%N.length)},className:"cursor-pointer",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:e("\u5f79")}),Object(c.jsx)("th",{className:"text-right",children:e("\u8bb0\u5f55\u6570")}),Object(c.jsx)("th",{className:"text-right",children:e("\u6bd4\u7387")})]})}),Object(c.jsx)("tbody",{children:a.entries.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e(t.label)}),Object(c.jsx)("td",{className:"text-right",children:t.count}),Object(c.jsx)("td",{className:"text-right",children:t.count?t.count/a.count<1e-4?"<0.01%":Object(l.c)(t.count/a.count):""})]},t.label)}))})]})]},r)}))})}):Object(c.jsx)(d.a,{})}var y=Object(c.jsxs)(s.d,{children:[Object(c.jsx)(s.b,{path:"rank-by-seat",title:"\u5750\u5e2d\u987a\u4f4d",disabled:!u.b.features.statisticsSubPages.rankBySeat,children:Object(c.jsx)(h,{})}),Object(c.jsx)(s.b,{path:"data-by-rank",title:"\u7b49\u7ea7\u6570\u636e",disabled:!u.b.features.statisticsSubPages.dataByRank,children:Object(c.jsx)(m,{})}),Object(c.jsx)(s.b,{path:"fan-stats",title:"\u548c\u51fa\u5f79\u79cd\u7edf\u8ba1",disabled:!u.b.features.statisticsSubPages.fanStats,children:Object(c.jsx)(k,{})})]});function S(){return Object(c.jsxs)(s.c,{children:[y,Object(c.jsxs)(a.a,{children:[Object(c.jsx)(s.a,{}),Object(c.jsx)(s.e,{})]})]})}}}]);
//# sourceMappingURL=5.565ce358.chunk.js.map